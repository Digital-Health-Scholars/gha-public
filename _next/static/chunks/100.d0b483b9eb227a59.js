"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[100],{9100:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var n=a(7876),r=a(4232),l=a(9225),i=a(3979),o=a(9746),s=a(701),c=a(4843),u=c.dv,d=c.zN,p=function(e,t){return(0,o.Fs)(e,m(t))},h="Option",m=function(e){return function(t){return v(t)?u:d(e(t.value))}},f={URI:h,map:p};(0,o.XY)(2,(0,s.as)(f)),(0,s.Pg)(f);var g=(0,o.XY)(2,function(e,t){return v(e)?u:t(e.value)}),x={URI:h,map:p,ap:function(e,t){var a;return(0,o.Fs)(e,(a=t,function(e){return v(e)||v(a)?u:d(e.value(a.value))}))},chain:g};(0,o.XY)(2,function(e,t){return v(e)?t():e}),o.D_,c.Ru;var v=function(e){return"None"===e._tag},b=function(e,t){return function(a){return v(a)?e():t(a.value)}};i.Mi(x),function(e,t){(0,i.Mi)(t)}({URI:h,fromEither:function(e){return"Left"===e._tag?u:d(e.right)}},x);var w=function(e){return null==e?u:d(e)};c.FR,c.rb;let j=r.forwardRef(function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))});var y=a(4895);let N=e=>{let{message:t,children:a}=e;return(0,n.jsxs)("div",{className:"group relative",children:[a,(0,n.jsx)("span",{className:"absolute top-10 scale-0 min-w-48 transition-all rounded bg-gray-800 p-2 text-xs text-white group-hover:scale-100",children:t})]})};var k=a(3704),z=a(8619);let C=e=>{let{caption:t,map:a,wrap:i,structures:o=[],...s}=e,[c,p]=(0,r.useState)(!0),[h,f]=(0,r.useState)(!1),[x,v]=(0,r.useState)(!1),[[C,S],W]=(0,r.useState)([0,0]),[[E,F],L]=(0,r.useState)([0,0]),[R,M]=(0,r.useState)(void 0),[T,_]=(0,r.useState)(1),A=(0,r.useRef)(null),I=(0,r.useRef)(null),P=y.X4r("md",["size"],s),Q=a.areas.map((0,l.pipe)((0,k.mg)(T))),H=(0,r.useCallback)(e=>(e.width=e.width,e),[]),X=(0,r.useCallback)(e=>(0,l.pipe)(w(e),b(k.lQ,e=>{W([e.clientHeight,e.clientWidth]),L([e.naturalHeight,e.naturalWidth]),_(e.clientWidth/e.naturalWidth),e.onload=()=>{_(e.clientWidth/e.naturalWidth),W([e.clientHeight,e.clientWidth]),f(!0)},e.naturalHeight&&e.naturalWidth>0&&f(!0)})),[W,L,_]),U=(0,r.useCallback)(()=>(0,l.pipe)(w(A.current),m(e=>{_(e.clientWidth/F),W([e.clientHeight,e.clientWidth])})),[F]);return(0,r.useEffect)(()=>(window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)),[U]),(0,r.useEffect)(()=>(0,l.pipe)(w(I.current),m(H),g(e=>w(e.getContext("2d"))),m(e=>(0,k.Ti)(e,{globalAlpha:1})),b(k.lQ,e=>Q.map(t=>{let{center:[a,n]}=t;e.beginPath(),e.arc(a*T,n*T,4,0,2*Math.PI),e.closePath(),e.stroke(),e.fill(),e.beginPath(),e.arc(a*T,n*T,4,0,2*Math.PI),e.strokeStyle="#FFFFFF",e.stroke()})),k.lQ),[H,C,S,Q,T]),(0,n.jsxs)("figure",{className:(0,k.cn)("w-full relative m-auto clear-both",{"md:w-6/12":"sm"===P},{"md:w-10/12":"md"===P},{"md:w-12/12":"lg"===P},{"md:float-right":"right"===i},{"md:float-left":"left"===i}),children:[(0,n.jsxs)("div",{className:"absolute z-50 m-2 p-2 flex items-center",children:[o.length>0&&(0,n.jsx)(N,{message:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:"text-center text-white mb-2",children:"Identify the following structures:"}),(0,n.jsx)("ul",{className:"ml-4 list-decimal w-auto min-w-28",children:o.map((e,t)=>(0,n.jsx)("li",{className:"p-1",children:(0,k.Sn)(e)},t))})]}),children:(0,n.jsx)(j,{className:"text-slate-200 ml-2 h-5 w-5 hover:text-slate-500"})}),(0,n.jsx)("button",{className:(0,k.cn)("z-50 m-2 p-2","text-gray-800 font-bold","rounded text-xs hover:opacity-100 opacity-40 transition duration-300",{"bg-red-400 hover:bg-red-600":!c},{"bg-green-400 hover:bg-green-600":c}),onClick:()=>p(!c),children:c?" Add Labels":"Remove Labels"})]}),(0,n.jsx)("canvas",{ref:A,className:(0,k.cn)("absolute top-0 left-0 z-20 pointer-events-none w-full",{hidden:c}),height:C,width:S}),(0,n.jsx)("canvas",{ref:I,className:(0,k.cn)("absolute top-0 left-0 z-20 pointer-events-none w-full",{hidden:c}),height:C,width:S}),(0,n.jsx)("img",{ref:X,src:(0,k.tc)(y.X4r("",["src"],s)),className:"relative z-10 rounded-lg w-full select-none min-w-full",alt:"image-overlay-".concat(a.name),useMap:"#".concat(a.name),onTouchStart:e=>(0,l.pipe)(w(A.current),m(H),g(e=>w(e.getContext("2d"))),m(e=>(0,k.Ti)(e,{fillStyle:"#33866a",globalAlpha:.3})),g(e=>x?(e.clearRect(0,0,C,S),v(!1),u):d(e)),m(e=>(v(!0),e)),m(e=>a.areas.map((0,l.pipe)((0,k.mg)(T))).map(t=>{(0,k.$2)(t.shape)(t.scaledCoords)(e)})))}),h&&(0,n.jsx)("map",{name:a.name,children:a.areas.map((0,l.pipe)((0,k.mg)(T))).map((e,t)=>{var r;return(0,n.jsx)("area",{shape:e.shape,coords:(null!=(r=e.scaledCoords)?r:[]).join(","),onMouseEnter:t=>{var a,n;return(0,l.pipe)(w(A.current),g(e=>w(e.getContext("2d"))),m(e=>(0,k.Ti)(e,{fillStyle:"#33866a",globalAlpha:.3})),m(t=>(M(e),t)),m((0,k.$2)((0,l.pipe)(null!=(a=t.currentTarget.getAttribute("shape"))?a:"poly",e=>(0,z.W)(e)?e:"poly"))((0,l.pipe)(null!=(n=t.currentTarget.getAttribute("coords"))?n:"",k.qE))))},onMouseLeave:()=>(0,l.pipe)(w(A.current),m(H),m(e=>{M(void 0)}))},"".concat(a.name,"-overlay-area-").concat(t))})}),R&&R.tooltip&&(0,n.jsx)("span",{id:"tooltip",className:(0,k.cn)("z-50 pointer-events-none absolute py-2 px-3","text-sm font-medium text-slate-200 bg-gray-900 rounded-sm shadow-sm","border-emerald-400 border-solid border-2",{hidden:c}),style:{top:"".concat((0,k.Q3)(T,50,-20)(R).tooltipTop,"px"),left:"".concat((0,k.Q3)(T,50,-20)(R).tooltipLeft,"px")},children:R.tooltip}),x&&a.areas.map((0,k.mg)(T)).map((0,k.Q3)(T)).map((e,t)=>e.tooltip&&(0,n.jsx)("div",{id:"tooltip-".concat(t),className:(0,k.cn)("z-10 pointer-events-none absolute py-2 px-3 inline-block","text-sm font-medium text-slate-200 bg-gray-900 rounded-sm shadow-sm","border-emerald-400 border-solid border-2"),style:{top:"".concat(e.tooltipTop,"px"),left:"".concat(e.tooltipLeft,"px")},children:e.tooltip},t)),t&&(0,n.jsx)("figcaption",{className:"p-1 py-4 prose prose-invert prose-base max-w-full text-center italic text-sm",children:t})]})}}}]);